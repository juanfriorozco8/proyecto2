<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Feed</title>
</head>
<body>
    <h1>Bienvenido, {{ usuario }}</h1>

    <h2>Cursos recomendados:</h2>
    <div id="cursos"></div>

    <!-- Botón Cerrar sesión que SÍ funciona -->
    <form action="/logout" method="get">
        <button type="submit">Cerrar sesión</button>
    </form>

    <script>
        // Llamar a /api/feed para obtener cursos
        fetch('/api/feed')
            .then(response => response.json())
            .then(data => {
                const cursosDiv = document.getElementById('cursos');
                if (data.cursos && data.cursos.length > 0) {
                    data.cursos.forEach(curso => {
                        const cursoElement = document.createElement('div');
                        cursoElement.innerHTML = `
                            <h3>${curso.titulo}</h3>
                            <p>Duración: ${curso.duracion}</p>
                            <hr>
                        `;
                        cursosDiv.appendChild(cursoElement);
                    });
                } else {
                    cursosDiv.innerHTML = '<p>No hay cursos recomendados.</p>';
                }
            })
            .catch(error => {
                console.error('Error al cargar cursos:', error);
            });
    </script>
</body>
</html>
